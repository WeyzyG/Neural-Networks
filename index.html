<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fashion-MNIST Autoencoder Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.5.1"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px;}
        h1 { color: #187aba; }
        label { font-weight: bold;}
        #previewContainer div { display: flex; align-items: center; margin-bottom: 10px; }
        #previewContainer canvas { margin: 0 5px; border: 1px solid #ccc; }
        #trainingLogs { max-height: 300px; overflow-y: auto; background: #f5f5f5; border: 1px solid #ccc; padding: 5px; }
        #edaContainer {
            background: #fafafb;
            border: 1px solid #ccc;
            padding: 14px;
            margin: 20px 0;
            border-radius: 8px;
        }
        #edaImagesGrid canvas {
            margin: 4px;
            border: 1px solid #bdbdbd;
        }
    </style>
</head>
<body>
    <h1>Fashion-MNIST Autoencoder Demo</h1>
    <p>CSV файлы должны иметь формат: label, pixel1, pixel2, ..., pixel784</p>
    <label for="trainFile">Train CSV:</label>
    <input type="file" id="trainFile" accept=".csv">
    <label for="testFile">Test CSV:</label>
    <input type="file" id="testFile" accept=".csv">
    <button id="loadDataBtn">Load Data</button>
    <hr>

    <div id="dataStatus"><h3>Data Status</h3><p>Training samples: 0</p><p>Test samples: 0</p></div>
    <hr>

    <!-- EDA section -->
    <div id="edaContainer">
      <h2>Data EDA Overview</h2>
      <div id="edaStats"></div>
      <div id="edaClassDistribution"></div>
      <div id="edaImagesGrid"></div>
    </div>
    <hr>

    <button id="trainBtn">Train Model</button>
    <button id="evaluateBtn">Evaluate</button>
    <button id="testFiveBtn">Prediction Preview (5 images)</button>
    <button id="resetBtn">Reset All</button>
    <hr>

    <div id="modelInfo"><h3>Model Info</h3><p>No model loaded</p></div>
    <button id="saveModelBtn">Save Model to File</button>
    <input type="file" id="modelJsonFile" accept=".json">
    <input type="file" id="modelWeightsFile" accept=".bin">
    <button id="loadModelBtn">Load Model from Files</button>
    <button id="toggleVisorBtn">Toggle tfjs Visor</button>
    <hr>
    <div id="previewContainer"></div>
    <hr>
    <h3>Training/Evaluating Logs</h3>
    <div id="trainingLogs"></div>

    <script src="data_loader_js.txt"></script>
    <script src="app_js.txt"></script>
</body>
</html>
